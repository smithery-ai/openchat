# Connection Context

The ConnectionConfigContext provides a React context for sharing MCP connection configuration across components. It's used by ToolDetailDialog to generate accurate code snippets.

This is a context provider component - it doesn't have a visual preview. See the ToolDetailDialog code generation to see it in action.

## Installation

<InstallCommand name="smithery-connection-context" />

## Usage

```tsx
import {
  ConnectionConfigContext,
  useConnectionConfig
} from "@openchat/registry/smithery/connection-context"

// Wrap your components with the provider
export function MyApp() {
  const connectionConfig = {
    mcpUrl: "https://mcp.exa.ai",
    apiKey: "your-smithery-api-key",
    namespace: "your-namespace",
    connectionId: "your-connection-id"
  }

  return (
    <ConnectionConfigContext.Provider value={connectionConfig}>
      <ToolsPanel tools={tools} onExecute={handleExecute} />
    </ConnectionConfigContext.Provider>
  )
}

// Access the config in child components
function ChildComponent() {
  const config = useConnectionConfig()

  if (!config) {
    return <div>No connection configured</div>
  }

  return <div>Connected to: {config.mcpUrl}</div>
}
```

## Context Value

The `ConnectionConfig` interface:

```typescript
interface ConnectionConfig {
  mcpUrl: string       // The MCP server URL
  apiKey: string       // Your Smithery API key
  namespace: string    // The Smithery namespace
  connectionId: string // The connection ID
}
```

## Hook

### useConnectionConfig

Returns the current connection configuration or `null` if not within a provider:

```tsx
import { useConnectionConfig } from "@openchat/registry/smithery/connection-context"

function MyComponent() {
  const config = useConnectionConfig()
  // config is ConnectionConfig | null
}
```

## Use Cases

- **Code Generation**: The ToolDetailDialog uses it to generate accurate code snippets
- **Tool Execution**: Components can access the connection info to make API calls
- **Display**: Show which connection is currently active
